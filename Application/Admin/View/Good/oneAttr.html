<extend name="public:base" />
<block name="body">
	<form action="{:U('attrHandle')}" method="POST" class="form-horizontal" role="form">
			<div class="form-group">
				<legend>Form title</legend>
			</div>
			
		    <div class="form-group">
		    	<label for="" class="col-sm-2 control-label">属性名称</label>
		    	<div class="col-sm-10">
		    		<input type="text" name="attribute_name" class="form-control" value="{$attr.attribute_name}">
		    	</div>
		    </div>

		    <if condition="$groups">
				<div class="form-group">
			    	<label for="" class="col-sm-2 control-label">属性分组</label>
			    	<div class="col-sm-10">
			    		<select name="attr_group" id="" class="form-control">
			    			<foreach name="groups" item="grp">
			    				<option value="{$grp}">{$grp}</option>
			    		    </foreach>
			    		</select>
			    	</div>
		        </div>
		    </if>

			<div class="form-group">
		    	<label for="" class="col-sm-2 control-label">search索引</label>
		    	<div class="col-sm-10">
		    		<div class="radio-inline"><label for=""><input type="radio" name="attr_index" value="1" <if condition="$attr['attr_index'] eq 1">checked</if>> 是</label></div>
		    		<div class="radio-inline"><label for=""><input type="radio" name="attr_index" value="0" <if condition="$attr['attr_index'] eq 0">checked</if>> 否</label></div>
		    	</div>
		    </div>

			<div class="form-group">
		    	<label for="" class="col-sm-2 control-label">值类型</label>
		    	<div class="col-sm-10">
		    		<div class="radio-inline"><label for=""><input type="radio" name="input_value_type" value="1" <if condition="$attr['input_value_type'] eq 1">checked</if>> 唯一</label></div>
			    	<div class="radio-inline"><label for=""><input type="radio" name="input_value_type" value="2" <if condition="$attr['input_value_type'] eq 2">checked</if>> 单选</label></div>
			    	<div class="radio-inline"><label for=""><input type="radio" name="input_value_type" value="3" <if condition="$attr['input_value_type'] eq 3">checked</if>> 多选</label></div>
		    	</div>
		    </div>
		
			<div class="form-group">
		    	<label for="" class="col-sm-2 control-label">录入方式</label>
		    	<div class="col-sm-10" id="record_type">
		    		<div class="radio-inline"><label for=""><input type="radio" name="input_type_id" value="1" <if condition="$attr['input_type_id'] eq 1">checked</if>> 手工录入</label></div>
			    	<div class="radio-inline"><label for=""><input type="radio" name="input_type_id" value="2" <if condition="$attr['input_type_id'] eq 2">checked</if>> 从列表中选择</label></div>
			    	<div class="radio-inline"><label for=""><input type="radio" name="input_type_id" value="3" <if condition="$attr['input_type_id'] eq 3">checked</if>> 多行文本框</label></div>
		    	</div>
		    </div>

		    <div class="form-group">
		    	<label for="" class="col-sm-2 control-label">可选值列表(一行代表一个值)</label>
		    	<div class="col-sm-10"><textarea name="input_type_values" id="value_box"  rows="3" class="form-control">{$attr.input_type_values}</textarea></div>
		    </div>


			<div class="form-group">
				<div class="col-sm-10 col-sm-offset-2">
					<input type="hidden" name="id" value="{$attr.id}">
					<input type="hidden" name="type_id" value="{$attr.type_id}">
					<input type="hidden" name="old_attr_name" value="{$attr.attribute_name}">
					<button type="submit" class="btn btn-primary">Submit</button>
				</div>
			</div>
	</form>
</block>
<block name="script">
	<script>
		$(function()
		{	
				var value = $('#record_type input:checked').val();
				if(value == 1 || value == 3)
				{
					$('#value_box').attr('disabled', '');
				}
				else 
				{
					$('#value_box').removeAttr('disabled');
				}

			$('#record_type input').on('click', function() {
				if($(this).val() == 1 || $(this).val() == 3)
				{
					$('#value_box').attr('disabled', '');
				}
				else 
				{
					$('#value_box').removeAttr('disabled');
				}	
			});
		})
	</script>
	
</block>
